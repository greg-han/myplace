{
  "_from": "passport-local-register",
  "_id": "passport-local-register@1.0.4",
  "_inBundle": false,
  "_integrity": "sha1-fX7kdPg50iJXKRr+9/E4aC/IHwc=",
  "_location": "/passport-local-register",
  "_phantomChildren": {},
  "_requested": {
    "escapedName": "passport-local-register",
    "fetchSpec": "latest",
    "name": "passport-local-register",
    "raw": "passport-local-register",
    "rawSpec": "",
    "registry": true,
    "saveSpec": null,
    "type": "tag"
  },
  "_requiredBy": [
    "#USER",
    "/"
  ],
  "_resolved": "https://registry.npmjs.org/passport-local-register/-/passport-local-register-1.0.4.tgz",
  "_shasum": "7d7ee474f839d22257291afef7f138682fc81f07",
  "_shrinkwrap": null,
  "_spec": "passport-local-register",
  "_where": "/home/gman/myplace",
  "author": {
    "email": "saad@rhoulam.com",
    "name": "Saad Rhoulam"
  },
  "bugs": {
    "url": "http://github.com/srhoulam/passport-local-registration/issues"
  },
  "bundleDependencies": false,
  "dependencies": {
    "passport-strategy": "1.x.x"
  },
  "deprecated": false,
  "description": "Local username and password authentication and registration strategy for Passport.",
  "devDependencies": {},
  "engines": {
    "node": ">= 0.4.0"
  },
  "homepage": "https://github.com/srhoulam/passport-local-registration/tree/1.0.4#readme",
  "keywords": [
    "auth",
    "authentication",
    "authn",
    "local",
    "passport",
    "password",
    "registration",
    "username"
  ],
  "license": "MIT",
  "licenses": [
    {
      "type": "MIT",
      "url": "http://www.opensource.org/licenses/MIT"
    }
  ],
  "main": "./lib",
  "name": "passport-local-register",
  "optionalDependencies": {},
  "readme": "# passport-local-register\n\n[Passport](http://passportjs.org/) strategy for authenticating with a username\nand password and registering new accounts on failure.\n\nThis module differs from [passport-local](https://github.com/jaredhanson/passport-local)\nby allowing you to turn failed authentication requests into user registrations. Using this\nmodule correctly, login should only fail if the account identifier (e.g., username)\nsupplied is already taken.\n\nExcept where explicitly specified, this module works as\n[passport-local](https://github.com/jaredhanson/passport-local)\nwould. It is strongly suggested that you be familiar with\n**passport-local** before using this module, as this document\nwill not seek to duplicate **passport-local**'s documentation.\n\n## Install\n\n```bash\n$ npm install passport-local-register\n```\n\n## Usage\n\n### Configure Strategy\n\nConfiguring this strategy is almost identical to configuring\n[passport-local](https://github.com/jaredhanson/passport-local),\nexcept that it requires one more callback to be passed to the\nconstructor.\n\n#### Example\n```js\npassport.use(new RegisterStrategy(\n  function verify(username, password, done) {\n    User.findOne({\n      'username' : username\n    }, function(err, user) {\n      if (err) {\n        return done(err);\n      }\n      if (!user) {\n        return done(); // see section below\n      }\n      if (!user.verifyPassword(password)) {\n        return done(null, false);\n      }\n\n      done(null, user);\n    });\n  }, function create(username, password, done) {\n    User.create({\n      'username' : username\n    }, function(err, user) {\n      if(err) {\n        return done(err);\n      }\n      if(!user) {\n        err = new Error(\"User creation failed.\");\n        return done(err);\n      }\n\n      done(null, user);\n    });\n  }\n));\n```\n\n#### `verify` callback\nThis is an important note regarding `verify`: invoke the passed-in\ncallback (`done`) with `false` as the second argument **only** if\nyour code has determined that the account exists and that the\npasswords do not match. Passing `null` as the second argument will\nprevent the strategy from attempting to create an account.\n\n#### Authenticate Requests\n\nUse `passport.authenticate()`, specifying the `'localRegister'` strategy, to\nauthenticate requests.\n\nFor example, as route middleware in an [Express](http://expressjs.com/)\napplication:\n\n```js\napp.post('/login', \n  passport.authenticate('localRegister', {\n    failureRedirect : '/login'\n  }), function(req, res) {\n    res.redirect('/');\n  });\n```\n\n## Credits\n\n- [Saad Rhoulam](http://github.com/srhoulam), register-on-fail functionality\n- [Jared Hanson](http://github.com/jaredhanson), **passport-local** strategy\n\n## License\n\n[The MIT License](http://opensource.org/licenses/MIT)\n",
  "readmeFilename": "README.md",
  "repository": {
    "type": "git",
    "url": "git://github.com/srhoulam/passport-local-registration.git#1.0.4"
  },
  "version": "1.0.4"
}
